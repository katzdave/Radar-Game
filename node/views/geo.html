<!DOCTYPE html>
<html>
<head>
  <title>Radar</title>
  <meta name="description" content="Group gaming tracking system">
      <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
   <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 60% }
    </style>
<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAUeCEPWBuJBrgOC2tgbTCfeONThql9f5Q"></script>
	    <script type="text/javascript">
	    var map;
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(-34.397, 150.644),
          zoom: 8
        };
        map = new google.maps.Map(document.getElementById("map-canvas"),{
            zoom: 19,
            center: new google.maps.LatLng(-34.397, 150.644),
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: false,
            streetViewControl: false,
            panControl: false,
            zoomControlOptions: {
               position: google.maps.ControlPosition.LEFT_BOTTOM
            }});
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>

</head>
<body >


  <p>Hello, dfkj <%= user %>!</p>

  <p id="demo">i don't think this works, bro</p>



   <div id="map-canvas" style="width: 70%; height: 70%"></div>



  <!-- grab the GPS coordinates, if possible - from http://www.w3schools.com/HTML/html5_geolocation.asp -->
<script type = "text/javascript">
var x = document.getElementById("demo");
var id;
var options = {
  enableHighAccuracy: true,
  timeout: 7000,
  maximumAge: 0
};

getLocation();

function getLocation() {
    if (navigator.geolocation) {

        id = navigator.geolocation.watchPosition(showPosition, showError, options);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}
function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude; 
    if (position.coords.heading != null)
    {
    	x.innerHTML += "Heading: " + position.coords.heading;
    }
    map.setCenter(new google.maps.LatLng(position.coords.latitude, position.coords.longitude));
}

function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "User denied the request for Geolocation."
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "Location information is unavailable."
            break;
        case error.TIMEOUT:
            x.innerHTML = "The request to get user location timed out."
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "An unknown error occurred."
            break;
        default:
            x.innerHTML = "default."
            break;
    }
}
</script>


</body>
</html>